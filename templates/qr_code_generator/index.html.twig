{% extends 'base.html.twig' %}


{% block body %}
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body.dark-mode {
      background-color: #121212;
      color: white;
    }
    .swatch {
      width: 2rem;
      height: 2rem;
      border: 1px solid #ccc;
      display: inline-block;
      vertical-align: middle;
    }
#qrcode {
  max-width: 100%;
  width: 100%;
  height: auto;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 1rem;
  background: var(--preview-bg, #fff);
}

.hide-content {
  display: none;
}


#qrcode canvas {
  width: 100%;
  height: auto;
  max-width: 300px;
  max-height: 300px;
}




  </style>
</head>
<body>
<div class="container-fluid py-4">
  <div class="d-flex justify-content-between align-items-center mb-3">
 
    <button id="toggle-dark-mode" class="btn btn-secondary hide-content">Dark Mode</button>
  </div>

  <div class="row Custom-Form-Content">
             <ul class="nav nav-pills " id="qrTab" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="style-tab" data-bs-toggle="tab" data-bs-target="#style" type="button">Design</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="basic-tab" data-bs-toggle="tab" data-bs-target="#basic" type="button">vCard</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="wifi-tab" data-bs-toggle="tab" data-bs-target="#wifi" type="button">WLAN</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="text-tab" data-bs-toggle="tab" data-bs-target="#text" type="button">Text</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="appointment-tab" data-bs-toggle="tab" data-bs-target="#appointment" type="button">Termin</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="iban-tab" data-bs-toggle="tab" data-bs-target="#iban" type="button">IBAN/BIC</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="sms-tab" data-bs-toggle="tab" data-bs-target="#sms" type="button">SMS</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="url-tab" data-bs-toggle="tab" data-bs-target="#url" type="button">URL</button>
      </ul>
    <div class="col-md-6">

      <form id="vcard-form">
        <div class="tab-content p-3 " id="qrTabContent">
          <div class="tab-pane fade" id="basic" role="tabpanel">
  <div class="row">
    <!-- Linke Spalte -->
    <div class="col-md-6">
      <div class="mb-2"><input class="form-control" type="text" id="name" placeholder="Name"></div>
      <div class="mb-2"><input class="form-control" type="tel" id="phone" placeholder="Telefon"></div>
      <div class="mb-2"><input class="form-control" type="email" id="email" placeholder="E-Mail"></div>
      <div class="mb-2"><input class="form-control" type="text" id="address" placeholder="Adresse"></div>
      <div class="mb-2"><input class="form-control" type="text" id="city" placeholder="Stadt"></div>
      <div class="mb-2"><input class="form-control" type="text" id="state" placeholder="Bundesland"></div>
      <div class="mb-2"><input class="form-control" type="text" id="zipcode" placeholder="PLZ"></div>
            <div class="mb-2"><input class="form-control" type="text" id="country" placeholder="Land"></div>
      <div class="mb-2"><input class="form-control" type="text" id="company" placeholder="Firma"></div>
      <div class="mb-2"><input class="form-control" type="url" id="website" placeholder="Webseite"></div>
      <div class="mb-2"><input class="form-control" type="date" id="birthday"></div>
    </div>

    <!-- Rechte Spalte -->
    <div class="col-md-6">

      
      <div class="mb-2">
        Kontaktfoto:
        <input type="file" id="contact-photo" accept="image/*">
      </div>
      
      <div class="mb-2">
        Logo im QR-Code:
        <input type="file" id="logo" accept="image/*">
      </div>
      
      <div class="mb-2">
        <label for="image-size" class="form-label">Bildgröße (0.1–0.5):</label>
        <input type="number" id="image-size" class="form-control" value="0.4" min="0.1" max="0.5" step="0.1">
      </div>
      
      <div class="mb-2 form-check">
        <input type="checkbox" id="hide-bg-dots" class="form-check-input" checked>
        <label for="hide-bg-dots" class="form-check-label">Verdecke Hintergrund-Punkte</label>
      </div>
      
      <div class="mb-2">
        <label for="image-margin" class="form-label">Bild-Margin (px):</label>
        <input type="number" id="image-margin" class="form-control" value="0" min="0">
      </div>
      
      <div class="mb-2">
        <label for="cross-origin" class="form-label">Cross-Origin:</label>
        <select id="cross-origin" class="form-select">
          <option value="anonymous" selected>anonymous</option>
          <option value="use-credentials">use-credentials</option>
        </select>
      </div>
      
      <div class="mb-2 form-check">
        <input type="checkbox" id="save-as-blob" class="form-check-input" checked>
        <label for="save-as-blob" class="form-check-label">Speichere als Blob (SVG)</label>
      </div>
    </div>
  </div>
</div>
<!-- WLAN Tab -->
 <div class="tab-pane fade" id="wifi" role="tabpanel" aria-labelledby="wifi-tab">
  <div class="mb-2">
    <label for="wifi-ssid" class="form-label">SSID (Netzwerkname):</label>
    <input type="text" class="form-control" id="wifi-ssid">
  </div>

  <div class="mb-2">
    <label for="wifi-password" class="form-label">Passwort:</label>
    <input type="text" class="form-control" id="wifi-password">
  </div>

  <div class="mb-2">
    <label for="wifi-encryption" class="form-label">Verschlüsselung:</label>
    <select class="form-select" id="wifi-encryption">
      <option value="WPA" selected>WPA/WPA2</option>
      <option value="WEP">WEP</option>
      <option value="nopass">Kein Passwort</option>
    </select>
  </div>
</div>

          
<!-- Text Tab -->
          <div class="tab-pane fade" id="text" role="tabpanel" aria-labelledby="text-tab">
            <div class="mb-2">
              <label for="text-content" class="form-label">Text-Inhalt:</label>
              <textarea id="text-content" class="form-control" rows="4" placeholder="Gib deinen Text hier ein..."></textarea>
            </div>
          </div>

          <!-- Termin Tab -->
          <div class="tab-pane fade" id="appointment" role="tabpanel" aria-labelledby="appointment-tab">
            <div class="mb-2">
              <label for="appointment-date" class="form-label">Termin Datum:</label>
              <input type="date" class="form-control" id="appointment-date">
            </div>

            <div class="mb-2">
              <label for="appointment-time" class="form-label">Termin Zeit:</label>
              <input type="time" class="form-control" id="appointment-time">
            </div>

            <div class="mb-2">
              <label for="appointment-location" class="form-label">Ort:</label>
              <input type="text" class="form-control" id="appointment-location" placeholder="Ort des Termins">
            </div>
            <div class="mb-2">
              <label for="appointment-description" class="form-label">Beschreibung:</label>
              <textarea id="appointment-description" class="form-control" placeholder="Beschreibung des Termins..."></textarea>
          </div>
          </div>  

          <!-- IBAN/BIC Tab -->
          <div class="tab-pane fade" id="iban" role="tabpanel" aria-labelledby="iban-tab">
            <div class="mb-2">
              <label for="iban" class="form-label">IBAN:</label>
              <input type="text" class="form-control" id="iban-input" placeholder="IBAN eingeben">
            </div>

            <div class="mb-2">
              <label for="bic" class="form-label">BIC:</label>
              <input type="text" class="form-control" id="bic" placeholder="BIC eingeben">
            </div>
            <div class="mb-2">
              <label for="account-holder" class="form-label">Kontoinhaber:</label>
              <input type="text" class="form-control" id="account-holder" placeholder="Kontoinhaber eingeben">
            </div>
            <div class="mb-2">
              <label for="bank-name" class="form-label">Bankname:</label>
              <input type="text" class="form-control" id="bank-name" placeholder="Bankname eingeben">
            </div>
            <div class="mb-2">
  <label for="amount" class="form-label">Betrag (€):</label>
  <input type="number" class="form-control" id="amount" placeholder="z. B. 50.00" step="0.01" min="0">
</div>

<div class="mb-2">
  <label for="purpose" class="form-label">Verwendungszweck:</label>
  <input type="text" class="form-control" id="purpose" placeholder="Verwendungszweck eingeben">
</div>
          </div>
          <!-- SMS Tab -->
          <div class="tab-pane fade" id="sms" role="tabpanel" aria-labelledby="sms-tab">
            <div class="mb-2">
              <label for="sms-number" class="form-label">Telefonnummer:</label>
              <input type="text" class="form-control" id="sms-number" placeholder="Telefonnummer eingeben">
            </div>

            <div class="mb-2">
              <label for="sms-message" class="form-label">Nachricht:</label>
              <textarea id="sms-message" class="form-control" rows="4" placeholder="Nachricht eingeben..."></textarea>
            </div>
          </div>
          <!-- URL Tab -->
          <div class="tab-pane fade" id="url" role="tabpanel" aria-labelledby="url-tab">
            <div class="mb-2">
              <label for="url" class="form-label">URL:</label>
              <input type="text" class="form-control" id="url-input" placeholder="URL eingeben">
            </div>
          </div>


          <div class="tab-pane fade show active" id="style" role="tabpanel">
  <div class="row">
    <!-- Linke Spalte -->
    <div class="col-md-6">
      <h5>Fehlerkorrektur:</h5>
      <div class="mb-2">
        <label for="ec-level">Fehlerkorrektur:</label>
        <select class="form-select" id="ec-level">
          <option value="L">L</option>
          <option value="M" selected>M</option>
          <option value="Q">Q</option>
          <option value="H">H</option>
        </select>
      </div>

      <div class="mb-3 hide-content ">
        <h5>Farben:</h5>
        <div class="mb-2">Farbe: 
          <input type="color" id="color" value="#000000"> 
          <span id="color-swatch" class="swatch"></span>
        </div>
        <div class="mb-2">Hintergrund: 
          <input type="color" id="bgcolor" value="#ffffff"> 
          <span id="bgcolor-swatch" class="swatch"></span>
        </div>
      </div>

      <div class="mb-3">
        <h5>Punkt-Stil:</h5>
        <div class="mb-2">
          <label for="dot-type">Punkt-Stil:</label>
          <select class="form-select" id="dot-type">
            <option value="square">Quadrat</option>
            <option value="dots">Punkte</option>
            <option value="rounded">Abgerundet</option>
          </select>
        </div>

        <div class="mb-2">Farbverlauf (Punkte):<br>
          <select class="form-select" id="gradient-type">
            <option value="linear">Linear</option>
            <option value="radial">Radial</option>
          </select>
          Rotation: <input type="number" id="gradient-rotation" value="0" class="form-control">
          Farbe 1: <input type="color" id="dot-gradient-color-1" value="#000000">
          Farbe 2: <input type="color" id="dot-gradient-color-2" value="#000000">
        </div>
<h5>Hintergrund-Stil:</h5>
        <div class="mb-2">Farbverlauf (Hintergrund):<br>
          <select class="form-select" id="background-gradient-type">
            <option value="linear">Linear</option>
            <option value="radial">Radial</option>
          </select>
          Rotation: <input type="number" id="background-gradient-rotation" value="0" class="form-control">
          Farbe 1: <input type="color" id="background-gradient-color-1" value="#ffffff">
          Farbe 2: <input type="color" id="background-gradient-color-2" value="#ffffff">
        </div>
      </div>
    </div>

    <!-- Rechte Spalte -->
    <div class="col-md-6">
      <div class="mb-3">
        <h5>Außen-Ecken:</h5>
        <div class="form-group">
          <label for="corner-type-outside">Eckenstil Außen:</label>
          <select id="corner-type-outside" class="form-control">
            <option value="square">Quadratisch</option>
            <option value="round">Rund</option>
          </select>
        </div>

        <div class="form-group mt-2">
          <label for="corner-gradient-type-outside">Gradienttyp Außen:</label>
          <select id="corner-gradient-type-outside" class="form-control">
            <option value="none">Kein Gradient</option>
            <option value="linear">Linear</option>
            <option value="radial">Radial</option>
          </select>
        </div>
      </div>

      <div class="mb-3">
        <h5>Innen-Ecken:</h5>
        <div class="form-group">
          <label for="corner-type-inside">Eckenstil Innen:</label>
          <select id="corner-type-inside" class="form-control">
            <option value="square">Quadratisch</option>
            <option value="round">Rund</option>
          </select>
        </div>

        <div class="form-group mt-2">
          <label for="corner-gradient-type-inside">Gradienttyp Innen:</label>
          <select id="corner-gradient-type-inside" class="form-control">
            <option value="none">Kein Gradient</option>
            <option value="linear">Linear</option>
            <option value="radial">Radial</option>
          </select>
        </div>
      </div>

      <div class="mb-3">
        <h5>Farbverlauf (Ecken):</h5>
        <select class="form-select" id="corner-gradient-type">
          <option value="linear">Linear</option>
          <option value="radial">Radial</option>
        </select>
        Rotation: <input type="number" id="corner-gradient-rotation" value="0" class="form-control">
        Farbe 1: <input type="color" id="corner-gradient-color-1" value="#000000">
        Farbe 2: <input type="color" id="corner-gradient-color-2" value="#000000">
      </div>
    </div>
  </div>
</div>

        </div>
      </form>
    </div>

    <div class="col-md-6">
      <h5>Live-Vorschau:</h5>
      <div id="qrcode" class="border p-3 bg-white"></div>


      <div class="mb-3"></div>

      <div class="mb-3">
        <button id="download-png" class="btn btn-primary">Download PNG</button>
        <button id="download-svg" class="btn btn-secondary">Download SVG</button>
        <button id="download-pdf" class="btn btn-success">Download PDF</button>
      </div>
    </div>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@2.5.1/dist/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/qr-code-styling@1.5.0/lib/qr-code-styling.js"></script>
<script src="/js/qr-generator.js"></script>
{% endblock %}
