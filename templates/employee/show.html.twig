{% extends 'base.html.twig' %}

{% block title %}Mitarbeiter anzeigen{% endblock %}

{% block body %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-10 col-xl-9">
            <div class="card shadow-sm border-0">
                <div class="card-header bg-primary text-white">
                    <h4 class="mb-0">Mitarbeiter-Details</h4>
                </div>
                <div class="card-body">
                    <dl class="row mb-0">
                        <!-- Allgemeine Daten -->
                        <dt class="col-sm-4">Vorname</dt>
                        <dd class="col-sm-8">{{ employee.firstName }}</dd>
                        <dt class="col-sm-4">Nachname</dt>
                        <dd class="col-sm-8">{{ employee.lastName }}</dd>
                        <dt class="col-sm-4">Personalnummer</dt>
                        <dd class="col-sm-8">{{ employee.employeeNumber ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">Kostenstelle</dt>
                        <dd class="col-sm-8">{{ employee.costCenter ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">Fahrer/in</dt>
                        <dd class="col-sm-8">
                            {{ employee.isDriver ? '‚úÖ Ja' : '‚ùå Nein' }}
                        </dd>
                        <dt class="col-sm-4">Lizenzklassen</dt>
                        <dd class="col-sm-8">
                            {% for lc in employee.licenceClasses %}
                                <span class="badge bg-info" title="{{ lc.description }}">{{ lc.shortName }}</span>
                            {% else %}
                                <span class="text-muted">Keine</span>
                            {% endfor %}
                        </dd>
                        <dt class="col-sm-4">E-Mail</dt>
                        <dd class="col-sm-8">{{ employee.email ?? employee.getPSEMail() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">Telefon</dt>
                        <dd class="col-sm-8">{{ employee.phone ?? employee.getPSTelefon() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">Handy</dt>
                        <dd class="col-sm-8">{{ employee.getPSHandy() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">Eingestellt am</dt>
                        <dd class="col-sm-8">
                            {{ employee.hiredAt ? employee.hiredAt|date('d.m.Y') : (employee.getPSEintrittsdatum() ? employee.getPSEintrittsdatum()|date('d.m.Y') : '‚Äì') }}
                        </dd>
                        <dt class="col-sm-4">Ausgeschieden am</dt>
                        <dd class="col-sm-8">
                            {{ employee.leftAt ? employee.leftAt|date('d.m.Y') : (employee.getPSAustrittsdatum() ? employee.getPSAustrittsdatum()|date('d.m.Y') : '‚Äì') }}
                        </dd>
                        <dt class="col-sm-4">Urlaubstage</dt>
                        <dd class="col-sm-8">{{ employee.vacationDays ?? '0' }} (+{{ employee.vacationDaysExtra ?? 0 }})</dd>
                        <dt class="col-sm-4">Sollstunden</dt>
                        <dd class="col-sm-8">
                            T√§glich: {{ employee.agreedHoursDaily ?? 0 }}h<br>
                            W√∂chentlich: {{ employee.agreedHoursWeekly ?? 0 }}h<br>
                            Monatlich: {{ employee.agreedHoursMonthly ?? 0 }}h
                        </dd>
                        <dt class="col-sm-4">üÜò Notfallkontakt</dt>
                        <dd class="col-sm-8">
                            {% if employee.emergencyContact %}
                                {{ employee.emergencyContact.fullName ?? (employee.emergencyContact.firstName ~ ' ' ~ employee.emergencyContact.lastName) }}
                            {% else %}
                                <span class="text-muted">‚Äì</span>
                            {% endif %}
                        </dd>
                        <dt class="col-sm-4">Systembenutzer</dt>
                        <dd class="col-sm-8">
                            {% if employee.user %}
                                {{ employee.user.username ?? employee.user.email }}
                            {% else %}
                                <span class="text-muted">‚Äì</span>
                            {% endif %}
                        </dd>

                        <!-- PS-/Excel-Importfelder -->
                        <dt class="col-sm-4">PS Fahrernummer</dt>
                        <dd class="col-sm-8">{{ employee.getPSFahrernummer() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Anrede</dt>
                        <dd class="col-sm-8">{{ employee.getPSAnrede() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Name 1</dt>
                        <dd class="col-sm-8">{{ employee.getPSName1() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Name 2</dt>
                        <dd class="col-sm-8">{{ employee.getPSName2() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Suchwort</dt>
                        <dd class="col-sm-8">{{ employee.getPSSuchwort() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">K/U/T</dt>
                        <dd class="col-sm-8">{{ employee.getKUT() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Stra√üe</dt>
                        <dd class="col-sm-8">{{ employee.getPSStrasse() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS PLZ/Ort</dt>
                        <dd class="col-sm-8">{{ employee.getPSPlzOrt() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Geburtsdatum</dt>
                        <dd class="col-sm-8">
                            {{ employee.getPSGeburtsdatum() ? employee.getPSGeburtsdatum()|date('d.m.Y') : '‚Äì' }}
                        </dd>
                        <dt class="col-sm-4">PS Besch√§ftigungsart</dt>
                        <dd class="col-sm-8">{{ employee.getPSBeschaeftigungsart() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS T√§tigkeit</dt>
                        <dd class="col-sm-8">{{ employee.getPSTaetigkeit() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">FSZ befristet bis</dt>
                        <dd class="col-sm-8">
                            {{ employee.getFSZbefristetbis() ? employee.getFSZbefristetbis()|date('d.m.Y') : '‚Äì' }}
                        </dd>
                        <dt class="col-sm-4">PS Ausgeschieden</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSAusgeschieden() is not null %}
                                {{ employee.isPSAusgeschieden() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS Austrittsdatum</dt>
                        <dd class="col-sm-8">
                            {{ employee.getPSAustrittsdatum() ? employee.getPSAustrittsdatum()|date('d.m.Y') : '‚Äì' }}
                        </dd>
                        <dt class="col-sm-4">PS E-Mail</dt>
                        <dd class="col-sm-8">{{ employee.getPSEMail() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Telefon</dt>
                        <dd class="col-sm-8">{{ employee.getPSTelefon() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS Handy</dt>
                        <dd class="col-sm-8">{{ employee.getPSHandy() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS f√§hrt Kindertouren</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSfaehrtKINDERTOUREN() is not null %}
                                {{ employee.isPSfaehrtKINDERTOUREN() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS Fahrerk√ºrzel</dt>
                        <dd class="col-sm-8">{{ employee.getPSFahrerkuerzel() ?? '‚Äì' }}</dd>
                        <dt class="col-sm-4">PS P-Schein g√ºltig bis</dt>
                        <dd class="col-sm-8">
                            {{ employee.getPSPScheinGueltigBis() ? employee.getPSPScheinGueltigBis()|date('d.m.Y') : '‚Äì' }}
                        </dd>
                        <dt class="col-sm-4">PS Busbegleitung ohne FS</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSBusbegleitungOFS() is not null %}
                                {{ employee.isPSBusbegleitungOFS() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS Busbegleitung mit FS</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSBusbegleitungMFS() is not null %}
                                {{ employee.isPSBusbegleitungMFS() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS f√§hrt Schulbus</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSfaehrtSchulbus() is not null %}
                                {{ employee.isPSfaehrtSchulbus() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS f√§hrt Taxi</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSfaehrtTAXI() is not null %}
                                {{ employee.isPSfaehrtTAXI() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS B√ºro</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSBuero() is not null %}
                                {{ employee.isPSBuero() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS Funk</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSFunk() is not null %}
                                {{ employee.isPSFunk() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS FS D1</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSFSD1() is not null %}
                                {{ employee.isPSFSD1() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS FS D</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSFSD() is not null %}
                                {{ employee.isPSFSD() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS FS DE</dt>
                        <dd class="col-sm-8">
                            {% if employee.isPSFSDE() is not null %}
                                {{ employee.isPSFSDE() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">FSZ Vertrag befristet</dt>
                        <dd class="col-sm-8">
                            {% if employee.isFSZvertragbefristet() is not null %}
                                {{ employee.isFSZvertragbefristet() ? '‚úÖ Ja' : '‚ùå Nein' }}
                            {% else %}‚Äì{% endif %}
                        </dd>
                        <dt class="col-sm-4">PS Bus g√ºltig bis</dt>
                        <dd class="col-sm-8">
                            {{ employee.getPSBusGueltigBis() ? employee.getPSBusGueltigBis()|date('d.m.Y') : '‚Äì' }}
                        </dd>
                        <dt class="col-sm-4">PS Taxi g√ºltig bis</dt>
                        <dd class="col-sm-8">
                            {{ employee.getPSTaxiGueltigBis() ? employee.getPSTaxiGueltigBis()|date('d.m.Y') : '‚Äì' }}
                        </dd>
                    </dl>
                </div>
                <div class="card-footer text-end">
                    <a href="{{ path('app_employee_edit', {'id': employee.id}) }}" class="btn btn-warning">‚úèÔ∏è Bearbeiten</a>
                    <a href="{{ path('app_employee_index') }}" class="btn btn-secondary ms-2">‚¨ÖÔ∏è Zur√ºck</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
