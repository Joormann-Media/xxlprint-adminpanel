{% extends 'base.html.twig' %}

{% block title %}Idee: {{ idea_pool.title }}{% endblock %}

{% block body %}
<div class="container py-4">
    <div class="card shadow-lg border-0 rounded-3 mb-5">
        <div class="card-header bg-info text-white d-flex align-items-center gap-3">
            <i class="bi bi-lightbulb-fill fs-2"></i>
            <div>
                <h2 class="mb-0">{{ idea_pool.title }}</h2>
                <small class="text-light-emphasis">{{ idea_pool.type|upper }}</small>
            </div>
            <span class="ms-auto badge bg-{{ idea_pool.status == 'offen' ? 'warning' : (idea_pool.status == 'erledigt' ? 'success' : 'secondary') }} text-dark px-3">
                {{ idea_pool.status|capitalize }}
            </span>
        </div>
        <div class="card-body">
            <dl class="row mb-0">
                <dt class="col-sm-3">Inhalt</dt>
                <dd class="col-sm-9"><pre class="mb-0" style="white-space:pre-wrap;">{{ idea_pool.content }}</pre></dd>

                <dt class="col-sm-3">Tags</dt>
                <dd class="col-sm-9">{{ idea_pool.tags ?: '–' }}</dd>

                <dt class="col-sm-3">Datei/Anhang</dt>
                <dd class="col-sm-9">
                    {% if idea_pool.file %}
                        <a href="{{ asset(idea_pool.file) }}" class="link-info" target="_blank"><i class="bi bi-paperclip"></i> {{ idea_pool.file }}</a>
                    {% else %}
                        –
                    {% endif %}
                </dd>

                <dt class="col-sm-3">Quelle</dt>
                <dd class="col-sm-9">{{ idea_pool.source ?: '–' }}</dd>

                <dt class="col-sm-3">Angelegt</dt>
                <dd class="col-sm-9">{{ idea_pool.createdAt ? idea_pool.createdAt|date('d.m.Y H:i') : '–' }}</dd>

                <dt class="col-sm-3">User</dt>
                <dd class="col-sm-9">{{ idea_pool.user ? idea_pool.user.username : '–' }}</dd>
            </dl>
        </div>
        <div class="card-footer bg-light text-end">
            <a href="{{ path('app_idea_pool_index') }}" class="btn btn-outline-secondary">
                <i class="bi bi-arrow-left"></i> Zurück
            </a>
            <a href="{{ path('app_idea_pool_edit', {'id': idea_pool.id}) }}" class="btn btn-primary ms-2">
                <i class="bi bi-pencil"></i> Bearbeiten
            </a>
        </div>
    </div>
</div>
{% endblock %}
